language: swift
os: osx
osx_image: xcode8.3
before_install:
  - /usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
  - brew update
  - brew upgrade carthage
  - carthage update
script:
  - xcodebuild clean -scheme Network | xcpretty
  - xcodebuild clean -scheme Network_macOS | xcpretty
  - xcodebuild clean -scheme Network_tvOS | xcpretty
  - xcodebuild clean -scheme Network_watchOS | xcpretty

  - xcodebuild -project Network.xcodeproj -scheme Network -destination 'platform=iOS Simulator,name=iPhone 7,OS=10.3' | xcpretty
  - xcodebuild -project Network.xcodeproj -scheme Network_macOS -destination 'arch=x86_64' | xcpretty
  - xcodebuild -project Network.xcodeproj -scheme Network_tvOS -destination 'name=Apple TV 1080p,OS=9.0' | xcpretty
  - xcodebuild -project Network.xcodeproj -scheme Network_watchOS -destination 'name=Apple Watch - 42mm,OS=2.0' | xcpretty
